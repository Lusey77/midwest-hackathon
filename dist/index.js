require("source-map-support").install(),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var a=e();for(var i in a)("object"==typeof exports?exports:t)[i]=a[i]}}(global,function(){return function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=6)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.IntentController=class{constructor(t){this.handler=t}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(0);e.AmazonController=class extends i.IntentController{constructor(t){super(t)}help(){this.handler.emit(":tell","Hey yo, I'm sorry, but you don't get no help. Sucka!")}cancel(){this.handler.emit(":tell","Cancelling ok")}stop(){this.handler.emit(":tell","Stopping ok")}unhandled(){this.handler.emit(":ask","I am sorry, but do not know how to handle your request. If you would like to record, just say record this followed by what ever you would like to record.")}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pause='<break time="0.3s"/>',e.interjection=function(t){return`<say-as interpret-as="interjection">${t}</say-as>`},e.date=function(t){return`<say-as interpret-as="date">${t}</say-as>`}},function(t,e){t.exports=require("aws-sdk")},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(3),n=a(0),r=a(2);e.AlexaController=class extends n.IntentController{constructor(t){super(t),this._dynamodb=new i.DynamoDB({apiVersion:"2012-08-10"})}newSession(){this.handler.emit(":ask","Welcome to this recording app. I can help you by recording your voice. I am ready to start recording at any time. Just say record this followed by what ever you would like to record.")}record(){const t=this.handler.event.request;this.handler.attributes.recording=t.intent.slots.Query.value;const e=this.handler.attributes.recording,a=`${r.pause} If you would like to record something else, just say record this followed by what ever you would like to record, or listen to what you recorded by asking: What did i just re-cord?`;this.handler.emit(":ask",`You recorded: ${e} ${a}`,"Just say record this followed by what ever you would like to record, or listen to what you recorded by asking: What did i just re-cord?")}previousRecord(){const t=this.handler.attributes.recording;void 0===t?this.handler.emit(":ask","You have not recorded anything during this session. If you would like to record something, just say record this followed by what ever you would like to record.","Just say record this followed by what ever you would like to record."):this.handler.emit(":ask",`${r.interjection("all righty!")} You previously recorded the following: ${t} ${r.pause} If you would like to record something else, just say record this followed by what ever you would like to record.`)}getName(){const t=this.handler.event.request;this.handler.attributes.physician_id=1928374650..toString(),this.handler.attributes.patient_id=t.intent.slots.PatientId.value;const e={TableName:"Patients",Key:{PatientId:{S:this.handler.attributes.patient_id}}};this._dynamodb.getItem(e,function(t,e){t&&this.handler.emit(":ask","I did not find the patient in the database. Please state the patient id again by saying patient ID followed by the identification number of the patient."),this.handler.attributes.first_name=e.Item.FirstName.S,this.handler.attributes.last_name=e.Item.LastName.S,this.handler.attributes.date_of_birth=e.Item.DateOfBirth.S;const a=this.handler.attributes.first_name,i=this.handler.attributes.last_name,n=`${r.pause} Please verify the patient by stating the paytients birthday like this, ${r.date(19910726)}`;this.handler.emit(":ask",`Starting session for patient: ${a} ${i} ${n}`,"")})}getBirthday(){const t=this.handler.event.request;this.handler.attributes.patient_stated_dob=t.intent.slots.birthday.value,void 0===this.handler.attributes.first_name?this.handler.emit(":ask","You have not stated the name of the patient. Please start by saying Patient: followed by the name of the patient.",""):this.handler.attributes.patient_stated_dob!==this.handler.attributes.date_of_birth?this.handler.emit(":ask","The birthday that you gave does not match what is stated in the database. Please verify the birthday again or select a different patient."):this.handler.emit(":ask",`We will now start entering information for ${this.handler.attributes.first_name} ${r.pause} born on ${this.handler.attributes.date_of_birth} ${r.pause}. To record a note say take note, record note, or make note followed by the note that you would like to record.`,"")}getBloodPressure(){const t=this.handler.event.request,e=t.intent.slots.systolic.value,a=t.intent.slots.diastolic.value;void 0===this.handler.attributes.first_name&&void 0===this.handler.attributes.date_of_birth?this.handler.emit(":ask","You have not stated the name of the patient. Please start by saying Patient: followed by the name of the patient."):void 0!==this.handler.attributes.first_name&&void 0===this.handler.attributes.date_of_birth?this.handler.emit(":ask",`You have not stated the birthday of the patient. Please verify the patient by stating the paytients birthday like this, ${r.date(19910726)}`):this.handler.emit(":ask",`${this.handler.attributes.first_name}'s blood pressure is ${e} over ${a}`,"")}takeNote(){const t=this.handler.event.request;if(this.handler.attributes.current_date=new Date,void 0===this.handler.attributes.first_name&&void 0===this.handler.attributes.date_of_birth)this.handler.emit(":ask","You have not stated the name of the patient. Please start by saying Patient: followed by the name of the patient.");else if(void 0!==this.handler.attributes.first_name&&void 0===this.handler.attributes.date_of_birth)this.handler.emit(":ask",`You have not stated the birthday of the patient. Please verify the patient by stating the paytients birthday like this, ${r.date(19910726)}`);else{const e=t.intent.slots.note.value,a=(this.handler.attributes.current_date.toString().slice(0,-24),{TableName:"Patients",Item:{PatientId:{S:this.handler.attributes.patient_id},FirstName:{S:this.handler.attributes.first_name},LastName:{S:this.handler.attributes.last_name},DateOfBirth:{S:this.handler.attributes.date_of_birth},Note:{L:[{M:{Date:{S:this.handler.attributes.current_date.toString()},PhysicianId:{S:this.handler.attributes.physician_id},NoteAdded:{S:e}}}]}}});this._dynamodb.putItem(a,function(t){t||this.handler.emit(":ask",`You recorded ${e} ${r.pause} The note was successfully recorded. To record another note say take note, record note, or make note followed by the note that you would like to record. If you would like to retrieve the last note that you recorded just say get last note`,"")})}}getLastNote(){if(void 0===this.handler.attributes.first_name&&void 0===this.handler.attributes.date_of_birth)this.handler.emit(":ask","You have not stated the name of the patient. Please start by saying Patient: followed by the name of the patient.");else if(void 0!==this.handler.attributes.first_name&&void 0===this.handler.attributes.date_of_birth)this.handler.emit(":ask",`You have not stated the birthday of the patient. Please verify the patient by stating the patients birthday like this, ${r.date(19910726)}`);else{const t={TableName:"Patients",Key:{PatientId:{S:this.handler.attributes.patient_id}}};this._dynamodb.getItem(t,function(t,e){t&&this.handler.emit(":ask","I did not find the patient in the database. Please state the patient id again by saying patient ID followed by the identification number of the patient."),this.handler.attributes.first_name=e.Item.FirstName.S,this.handler.attributes.last_name=e.Item.LastName.S,this.handler.attributes.last_note_info=e.Item.Note.L[e.Item.Note.L.length-1];const a=this.handler.attributes.first_name,i=this.handler.attributes.last_name,n=`${r.pause} was ${this.handler.attributes.last_note_info.M.NoteAdded.S} on ${this.handler.attributes.last_note_info.M.Date.S}`;this.handler.emit(":ask",`The last note added for ${a} ${i} ${n}`,"")})}}}},function(t,e){t.exports=require("alexa-sdk")},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(5),n=a(4),r=a(1);e.handler=function(t,e){const a=i.handler(t,e);a.registerHandlers({NewSession:function(){new n.AlexaController(this).newSession()},Record:function(){new n.AlexaController(this).record()},PreviousRecord:function(){new n.AlexaController(this).previousRecord()},GetName:function(){new n.AlexaController(this).getName()},GetBirthday:function(){new n.AlexaController(this).getBirthday()},BloodPressure:function(){new n.AlexaController(this).getBloodPressure()},TakeNote:function(){new n.AlexaController(this).takeNote()},GetLastNote:function(){new n.AlexaController(this).getLastNote()},"AMAZON.HelpIntent":function(){new r.AmazonController(this).help()},"AMAZON.CancelIntent":function(){new r.AmazonController(this).cancel()},"AMAZON.StopIntent":function(){new r.AmazonController(this).stop()},Unhandled:function(){new r.AmazonController(this).unhandled()}}),a.execute()}}])});
//# sourceMappingURL=index.js.map